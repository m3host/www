{"version":3,"sources":["../../src/pages/account/new-address-form/new-address-form.module.ts","../../src/pages/account/new-address-form/new-address-form.ts"],"names":[],"mappings":"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","file":"21.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NewAddressForm } from './new-address-form';\n//import { Service } from '../../../providers/service/service';\n\n\n@NgModule({\n  declarations: [\n    NewAddressForm,\n  ],\n  imports: [\n    IonicPageModule.forChild(NewAddressForm),\n  ],\n  exports: [\n    NewAddressForm\n  ]\n})\nexport class NewAddressFormModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account/new-address-form/new-address-form.module.ts","import { Component } from '@angular/core';\nimport { NavController, IonicPage } from 'ionic-angular';\n//import { Address } from '../address/address'\nimport {Service} from '../../../providers/service/service';\nimport { Values } from '../../../providers/service/values';\nimport { Functions } from '../../../providers/service/functions';\n\n@IonicPage()\n@Component({\n  templateUrl: 'new-address-form.html',\n})\nexport class NewAddressForm {\n\n  zone:any;\n  href:any;\n  form: any;\n  status: any;\n  address: any;\n  newAddress: any;\n  buttonText: any;\n  regions: any = [];\n  errorMessage: any;\n  public disableSubmit: boolean = false;\n\n    \n  constructor(public nav: NavController, public service: Service, public functions: Functions, public values: Values) {\n\n    this.address = {};\n    this.errorMessage = {};\n    this.buttonText = this.values.lan.text_button_continue;  \n\n  \tthis.service.getAddressForm()\n    .then((results) => this.handleForm(results));  \n  }\n\n\n  handleForm(results){\n    this.form = results;\n    this.getZone(results.country_id);\n  }\n\n  \n  getZone(id) {\n    this.form.zone_id = null;\n    this.service.getZone(id)\n    .then((results) => this.zone = results);\n  }\n\n  \n  saveAddress(href){\n\n    if(this.validateForm()){\n\n      if(this.form.default){\n        this.form.default = 1;\n      }\n\n      else{\n        this.form.default = 0;\n      }\n\n      this.disableSubmit= true;\n      this.buttonText= this.form.text_loading; \n\n      this.service.saveAddress(this.form, href)\n      .then((results) => this.handleResults(results));\n    }\n  }\n\n  \n  handleResults(results){\n    this.disableSubmit = false;\n    this.buttonText= this.form.button_continue; \n    this.form = results\n    \n    if(results.success){\n      this.nav.setRoot('Address');\n    }\n  }\n\n  \n  encodeUrl(href) {\n    return href.replace(/&amp;/g, '&');\n  }\n\n  \n  validateForm(){\n    if(this.form.country_id == undefined){this.functions.showAlert(this.values.lan.text_error, this.values.lan.error_country); return false}\n\n      if(this.form.zone_id == undefined || this.form.zone_id == null){\n        this.form.zone_id = \"0\";\n      }\n    return true\n  }  \n\n  \n}\n\n \n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account/new-address-form/new-address-form.ts"],"sourceRoot":""}