{"version":3,"sources":["../../src/pages/products/products.module.ts","../../src/pages/products/products.ts"],"names":[],"mappings":"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","file":"5.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProductsPage } from './products';\n\n\n@NgModule({\n  declarations: [\n    ProductsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProductsPage),\n  ],\n  exports: [\n    ProductsPage\n  ]\n})\nexport class ProductsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/products.module.ts","import { Component } from '@angular/core';\nimport { Values } from '../../providers/service/values';\nimport { NavController, NavParams, IonicPage } from 'ionic-angular';\nimport { CategoryService } from '../../providers/service/category-service';\n//import { ProductPage } from '../product/product';\n//import { CartPage } from '../cart/cart';\n//import {SearchPage} from '../search/search';\n/*\n  Generated class for the ProductsPage page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n\n@IonicPage()\n@Component({\n  templateUrl: 'products.html',\n})\nexport class ProductsPage {\n\n  \n  href: any;\n  count: any;\n  status: any;\n  options: any;\n  products: any;\n  quantity: any;\n  listview: boolean = false;\n  has_more_items: boolean = true;\n\n  \n  constructor(public nav:NavController, public service: CategoryService, params: NavParams, public values: Values) {\n\n  \tthis.href = params.data;\n    this.count = 10;\n    this.options = [];\n    this.quantity = \"1\";\n\n  \tthis.service.getProducts(this.href)\n    .then((results) => this.products = results);\n  }\n\n\n  encodeUrl(href) {\n    return href.replace(/&amp;/g, '&');\n  }\n\n\n  getProducts(href){\n    this.nav.push('ProductsPage', href);\n  }\n\n\n  getProduct(href){\n    this.nav.push('ProductPage', href);\n  }\n\n\n  getCart(){\n    this.nav.push('CartPage');\n  }\n\n\n  getSearch(){\n    this.nav.push('SearchPage');\n  }\n\n  \n  doInfinite(href, infiniteScroll) {\n    this.service.loadMore(href)\n    .then((results) => this.handleMore(results, infiniteScroll));\n  }\n\n\n  handleMore(results, infiniteScroll){\n    infiniteScroll.complete();\n \n    if(results.products!=undefined){\n      for (var i = 0; i < results.products.length; i++) {\n        this.products.products.push(results.products[i]);\n      };\n    }\n\n    this.products.current_page = results.current_page;\n    this.products.total_page = results.total_page;\n    this.products.next_page_url = results.next_page_url;\n  }\n\n\n \n  addToCart(id, href){\n  if(this.values.cartItemCount[id] == undefined){this.values.cartItemCount[id] = 1} else{this.values.cartItemCount[id] += 1}; \n\n    var text = '{';\n    var i;\n \n      for (i = 0; i < this.options.length; i++) {\n        var res = this.options[i].split(\":\");\n        text += '\"option['+res[0]+']\":\"'+res[1]+'\",';\n      }\n \n    text += '\"product_id\":\"' + id + '\",';\n    text += '\"quantity\":\"' + this.quantity + '\"}';\n\n    var obj = JSON.parse(text);\n\n    this.service.addToCart(obj)\n    .then((results) => this.handleAddToCart(results, href));\n  }\n\n \n  handleAddToCart(results, href){\n    if(results.error){\n      this.nav.push('ProductPage', href);\n    }\n  }\n\n\n  deleteFromCart(id){\n    if(this.values.cartItemCount[id] != undefined && this.values.cartItemCount[id] == 0){this.values.cartItemCount[id] = 0} else{this.values.cartItemCount[id] -= 1};\n    this.service.updateCart(id, this.values.cartItemCount[id])\n    .then((results) => this.status = results);\n  }\n\n  setListView(){\n    this.values.listview = true;\n }\n\n  setGridView(){\n    this.values.listview = false;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/products.ts"],"sourceRoot":""}